# 13 **Microsoft Fabric ‚Äì Administration & Monitoring**

Microsoft Fabric provides a **unified analytics platform** across Data Engineering, Data Integration, Data Science, Real-time Analytics, and Power BI. For enterprise workloads, **administration and monitoring** play a critical role to ensure proper governance, performance, and cost optimization.

---

## üîπ **1. Fabric Admin Portal**

The **Fabric Admin Portal** is the centralized interface for managing Fabric resources, users, governance, and capacities. It is accessed via:

üëâ **Power BI Service ‚Üí Settings (‚öô) ‚Üí Admin Portal**

### Key Responsibilities in Admin Portal

| Area                      | Purpose                                                                             |
| ------------------------- | ----------------------------------------------------------------------------------- |
| Tenant Settings           | Manage global access & security across the organization                             |
| Capacity Settings         | Assign & monitor Fabric capacity (F, P, A SKUs)                                     |
| Workload Settings         | Enable/disable workloads such as Data Engineering, Warehousing, Real-Time Analytics |
| Security                  | Set up RLS, workspace roles, service principals, and MFA                            |
| Integration               | Manage on-premises gateways, data sources, OAuth connections                        |
| User & License Management | Administer access for Fabric/Premium/Pro licenses                                   |
| Monitoring                | Track capacity usage, refresh failures, performance insights                        |

### Common Admin Tasks

‚úî Enable Fabric and workloads for specific users
‚úî Assign a capacity to workspaces
‚úî Configure data loss prevention (DLP) policies
‚úî Manage credentials and gateways
‚úî Monitor refresh performance and pipeline executions

---

## üîπ **2. Capacity Management**

Fabric capacity defines the **compute power** available for Fabric workloads (Lakehouse, SQL Warehouse, Dataflows, Power BI Reports, etc.).

### Fabric SKUs

| SKU          | Use Case                                       |
| ------------ | ---------------------------------------------- |
| **F-Series** | General Fabric workloads (entry to enterprise) |
| **P-Series** | Power BI Premium + Fabric capabilities         |
| **A-Series** | Azure capacity for embedded analytics/labs     |

### Key Concepts

| Term                | Explanation                                          |
| ------------------- | ---------------------------------------------------- |
| Capacity Units (CU) | Determines performance scale for compute & workloads |
| Workload Allocation | Set percentage of capacity allowed per service       |
| Autoscale           | Automatically increase capacity when demand spikes   |
| Pause/Resume        | For A-SKUs ‚Äî reduces cost when idle                  |
| Concurrency         | Number of parallel queries/processing tasks allowed  |

### Best Practices for Capacity Management

üîπ Assign high-priority workloads to **dedicated capacities**
üîπ Avoid placing **multiple heavy workloads in one capacity**
üîπ Enable **autoscaling** during peak hours
üîπ Track **query timeouts, wait times, and refresh duration**

---

## üîπ **3. Usage Monitoring & Cost Optimization**

Monitoring usage ensures capacity is used effectively and costs are optimized.

### Monitoring Tools in Fabric

| Tool                          | Purpose                                                   |
| ----------------------------- | --------------------------------------------------------- |
| **Capacity Metrics App**      | Monitor capacity usage, CPU, memory, refresh load         |
| **Admin Portal ‚Üí Audit Logs** | Track activities (permissions, refresh, workspace events) |
| **Fabric Activity Hub**       | View runtime logs for pipelines, notebooks, SQL jobs      |
| **OneLake Data Access Log**   | Track file access, read/write operations                  |
| **Power BI Logs**             | Dataset refresh & visual performance monitoring           |

### Key Metrics to Track

| Category              | Metrics                                         |
| --------------------- | ----------------------------------------------- |
| Capacity Performance  | CPU %, Memory %, Queue time, Autoscale triggers |
| Data Refresh          | Duration, failures, concurrency wait            |
| Pipelines & Notebooks | Execution time, retries, resource usage         |
| SQL Warehouse         | Query performance, temp cache %, I/O volume     |
| OneLake               | Data access patterns & storage growth           |

### Cost Optimization Strategies

‚úî Categorize workloads into **Prod / Dev / UAT** capacities
‚úî Enable **pause/resume for A-SKU** when not in use
‚úî **Scale up/down based on seasonality**
‚úî Use **quota-based workload control** to prevent overconsumption
‚úî Schedule **non-business-hour refreshes** to avoid peak time load
‚úî Monitor **unused datasets, pipelines, and warehouses** and archive/delete

---

---

# üß† **Practice Questions & Answers**

---

### **Q1: What is the purpose of the Fabric Admin Portal?**

**A:** The Fabric Admin Portal provides centralized administration for tenant settings, capacity management, user permissions, workload enablement, authentication, integration settings, and monitoring. It enables admins to control governance, performance, and security across all Fabric workloads.

---

### **Q2: What workloads are controlled through Fabric capacity?**

**A:** All Fabric workloads including Lakehouse, SQL Warehouse, Notebooks, Data Pipelines, Data Science, Real-Time Analytics, Power BI datasets, and semantic models are controlled through capacity.

---

### **Q3: What happens if a Fabric capacity is overloaded?**

**A:** Execution tasks get **queued**, delaying refreshes and workloads. In extreme saturation, tasks may timeout or fail. To avoid this, admins can enable autoscaling, redistribute workspaces, or upgrade capacity.

---

### **Q4: How is usage monitoring implemented in Fabric?**

**A:** Usage is monitored using tools like:

* Capacity Metrics App (performance graphs)
* Audit Logs (activity patterns)
* Fabric Activity Hub (runtime logs)
* SQL Query Insights (warehouse monitoring)

---

### **Q5: How do you optimize cost in Fabric?**

**A:** Cost is optimized through workload tuning, autoscaling, pause/resume for A-SKUs, archiving unused objects, right-sizing refresh schedules, and appropriately distributing capacities for Prod/Dev/UAT.

---

### **Q6: What is the difference between tenant admin and capacity admin?**

| Tenant Admin                   | Capacity Admin                   |
| ------------------------------ | -------------------------------- |
| Manages global Fabric settings | Manages capacity unit allocation |
| Controls user license access   | Assigns workspace to capacity    |
| Security & governance          | Priority & workload balancing    |

Both can exist independently.

---

### **Q7: What is autoscale in Fabric?**

Autoscale temporarily **adds extra capacity CUs during peak load**, preventing performance degradation. Costs are incurred only for the autoscaled period.

---

### **Q8: What logs should be checked for troubleshooting refresh failures?**

* Dataset refresh history
* Capacity Metrics App for bottlenecks
* Fabric Activity Hub logs
* Gateway logs (for on-premises sources)

---

### **Q9: How does workload management help?**

Workload management allows admins to enforce compute limits on workloads, avoiding resource monopolization. Example: Limit Real-Time Analytics to 20% of total capacity to prioritize Lakehouse compute.

---

### **Q10: What is the impact of assigning too many workspaces to one capacity?**

This leads to **high concurrency**, causing CPU/memory saturation, long queue times, slow refresh, and potential pipeline failures.

---

---

# ‚≠ê Summary Table

| Topic               | Key Focus                                             |
| ------------------- | ----------------------------------------------------- |
| Fabric Admin Portal | Central governance, security, integration, monitoring |
| Capacity Management | Compute allocation, workload balancing, autoscaling   |
| Monitoring          | Capacity metrics, activity logs, runtime tracking     |
| Cost Optimization   | Pause/resume, autoscale, workload scheduling, cleanup |

---

